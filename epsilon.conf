<server name="epsilon.daniel.testnet"
        description="Inspircd 2.1 Test Server"
        network="Testnet">

<admin name="Daniel De Graaf"
       nick="daniel"
       email="danieldg@inspircd.org">

<bind address="" port="6004" type="clients">
<bind address="" port="6084" type="httpd">
<bind address="" port="7004" type="clients" ssl="gnutls">
<bind address="" port="8004" type="servers" ssl="gnutls">
<bind address="127.0.0.1" port="9004" type="servers">

<log method="file" type="*" level="debug" target="logs/debug-%Y%m%d-%H%M%S.log">
<log method="file" type="*" level="rawio" target="logs/raw-%Y%m%d-%H%M%S.log">

<gnutls certfile="conf/epsilon.daniel.testnet-cert.pem" keyfile="conf/epsilon.daniel.testnet-key.pem">

<autoconnect period="53" server="psi.daniel.testnet">

<include file="conf/qa-net/general.conf">
<include file="conf/qa-net/opers.conf">
<include file="conf/qa-net/links.conf">
<include file="conf/qa-net/modules.conf">

<module name="m_httpd.so">
<module name="m_httpd_stats.so">
<module name="m_httpd_config.so">

<module name="m_sqlite3.so">
<database module="sqlite" hostname="data/inspircd.db" id="inspdb">
<module name="m_sql_auth.so">
<sqlauth dbid="inspdb" query="SELECT name AS account, 'sqlauth' AS tag FROM auth WHERE name='$nick' AND pass='$pass'">
<module name="m_sql_chanhistory.so">
<chanhistory dbid="inspdb" table="chanhist">
<module name="m_sql_channels.so">
<chandb dbid="inspdb" table="channels">
<module name="m_sql_oper.so">
<sqloper dbid="inspdb" query="SELECT '*@*' as host, type FROM opers WHERE name='$username' AND pass='$password'">

<module name="m_sql_command.so">
<sqlcommand name="DUMPAUTH" dbid="inspdb"
	queryformat="SELECT * FROM auth" rowformat=":$server NOTICE $nick :$id $name $pass">
<sqlcommand name="DUMPOPERS" dbid="inspdb"
	queryformat="SELECT * FROM opers" rowformat=":$server NOTICE $nick :$id $name $pass $type">

# This is a horrible, bad idea. Never do this. It's great for testing.
# It's even worse because we TRY to escape $0, so you can't use any ' characters
<sqlcommand name="RAWSQL" dbid="inspdb" queryformat="$1" resultformat=":$server NOTICE $nick :Processed $rows rows">
